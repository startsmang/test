{"uid":"e30ae28e6fe9edd9","name":"test_get_token","fullName":"testcases.test_login.TestSendRequest#test_get_token","historyId":"f32d8d9177d5d7f191c2e3662f216c74","time":{"start":1676856427222,"stop":1676856427635,"duration":413},"status":"broken","statusMessage":"ValueError: binary mode doesn't take an encoding argument","statusTrace":"self = <Api_test.testcases.test_login.TestSendRequest object at 0x045A5148>\n\n    def test_get_token(self):\n        url = 'https://jxh-api.zx1026.com//User/Login/getToken'\n        headers = {\n    \n        \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.41\",\n        \"content-type\": \"application/json;charset=UTF-8\"\n        }\n        params = {\n        \"account\": \"19974756755\",\n        \"password\": \"888888\",\n        \"login_type\": \"2\",\n        \"user_type\": \"1\",\n        }\n        response = self.get_session().request(\"get\",url = url,headers=headers,params=params)\n        print(response.json())\n    \n>       YamlUtil().write_extract_yaml({'token':response.json()['data']['token']})\n\ntest_login.py:29: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <Api_test.common.yaml_util.YamlUtil object at 0x045A5208>\ndata = {'token': '61082f6df92b100cf2822491de3fd363'}\n\n    def  write_extract_yaml(self,data):\n>       with open (os.getcwd()+\".\\extract.yml\",mode = 'ab',encoding='utf-8')as f :\nE       ValueError: binary mode doesn't take an encoding argument\n\n..\\common\\yaml_util.py:13: ValueError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"clear_yaml","time":{"start":1676856421089,"stop":1676856421089,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0}],"testStage":{"status":"broken","statusMessage":"ValueError: binary mode doesn't take an encoding argument","statusTrace":"self = <Api_test.testcases.test_login.TestSendRequest object at 0x045A5148>\n\n    def test_get_token(self):\n        url = 'https://jxh-api.zx1026.com//User/Login/getToken'\n        headers = {\n    \n        \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.41\",\n        \"content-type\": \"application/json;charset=UTF-8\"\n        }\n        params = {\n        \"account\": \"19974756755\",\n        \"password\": \"888888\",\n        \"login_type\": \"2\",\n        \"user_type\": \"1\",\n        }\n        response = self.get_session().request(\"get\",url = url,headers=headers,params=params)\n        print(response.json())\n    \n>       YamlUtil().write_extract_yaml({'token':response.json()['data']['token']})\n\ntest_login.py:29: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <Api_test.common.yaml_util.YamlUtil object at 0x045A5208>\ndata = {'token': '61082f6df92b100cf2822491de3fd363'}\n\n    def  write_extract_yaml(self,data):\n>       with open (os.getcwd()+\".\\extract.yml\",mode = 'ab',encoding='utf-8')as f :\nE       ValueError: binary mode doesn't take an encoding argument\n\n..\\common\\yaml_util.py:13: ValueError","steps":[],"attachments":[{"uid":"e5e398ce451d1bc6","name":"stdout","source":"e5e398ce451d1bc6.txt","type":"text/plain","size":926}],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":1,"hasContent":true,"stepsCount":0},"afterStages":[],"labels":[{"name":"parentSuite","value":"testcases"},{"name":"suite","value":"test_login"},{"name":"subSuite","value":"TestSendRequest"},{"name":"host","value":"憨憨"},{"name":"thread","value":"22980-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"testcases.test_login"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"e30ae28e6fe9edd9.json","parameterValues":[]}